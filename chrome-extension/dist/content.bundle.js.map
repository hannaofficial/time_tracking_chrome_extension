{"version":3,"file":"content.bundle.js","mappings":";;;;AAAA;AAEA;AAAA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAGA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;;AAEA;AACA","sources":["webpack://chrome-extension/./content.js"],"sourcesContent":["console.log(\"Content script loaded on:\", window.location.href);\n\nconst extractContent = () => {\n\n    const articleTag = document.querySelector('article')?.innerText || document.querySelector('main')?.innerText || document.body.innerText.replace(/\\n\\s*\\n/g, '\\n').substring(0,5000);\n    const metaDescription = document.querySelector('meta[name=\"description\"')?.content;\n    let combinedText = metaDescription ? metaDescription + \"\\n\\n\" : \"\";\n    combinedText += articleTag;\n\n    const MAX_LENGTH = 1e4;\n    return combinedText.trim().substring(0, MAX_LENGTH);\n\n\n}\n\nconst sendPageContentTBackground = () => {\n    const extractedText = extractContent();\n    const currentURL = window.location.href;\n    const pageTitle = document.title;\n\n    if(extractedText){\n        console.log(`COntent.js: Sending content for ${currentURL.substring(0,70)}... (Lenght: ${extractedText.length})`);\n        chrome.runtime.sendMessage({\n            type: 'PAGE_CONTENT_FOR_BACKGROUND',\n            url: currentURL,\n            title: pageTitle,\n            extractedText: extractedText\n        },(response)=>{\n            if(chrome.runtime.lastError){\n                onsole.log(\"Content.js: Error sending message:\", chrome.runtime.lastError.message);\n            }else{\n                console.log(\"Content.js: Message sent, response from background:\", response);\n            }\n        })\n    }else{\n        console.log(`Content.js: No significant text extracted from ${currentURL}`);\n    }\n}\n\n// send content when the document is fuly loaded and idle.\nif(document.readyState === \"complete\"){\n    sendPageContentTBackground();\n}else{\n    window.addEventListener('load', sendPageContentTBackground, {once:true})\n}\n\n// You might add a MutationObserver to re-extract if the page is dynamic (more complex)\n//MutationObserver  Important"],"names":[],"sourceRoot":""}